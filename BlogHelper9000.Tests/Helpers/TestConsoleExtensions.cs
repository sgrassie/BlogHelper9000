using System.CommandLine.IO;

namespace BlogHelper9000.Tests.Helpers;

public static class TestConsoleExtensions
{
    public static IEnumerable<string> AsLines(this TestConsole console)
    {
        var consoleOut = console.Out.ToString();
        
        if(string.IsNullOrEmpty(consoleOut))
        {
            return Enumerable.Empty<string>();
        }

        return consoleOut
            .Split(Environment.NewLine, StringSplitOptions.TrimEntries | StringSplitOptions.RemoveEmptyEntries);
    }
}